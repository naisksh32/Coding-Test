# N과 M (1)
##### 난이도: ***S3***
##### Link: https://www.acmicpc.net/problem/15649
##### Tag: 백트래킹
##### 풀이 일자: 2025년 10월 10일
***
## 문제 탐색하기
재귀함수를 통한 백트래킹 구현으로, 모든 경우의 수를 탐색 (순열)

### 해결요소
1. k번째 자리에 들어갈 숫자를 결정하는게 목표
2. 모든 경우의 수를 순열의 방식으로 탐색
3. 해당 숫자가 사용 되었는지 여부랑 숫자를 담을 리스트를 통하여 구현

***
## 코드 설계하기
```
# 숫자를 담을 바구니
arr = [0 for _ in range(M)]
# 해당 숫자가 사용 되었는지 확인
issued = [False for _ in range(N)]
----------------------------------------------------
# k번째 요소를 결정짓는 함수
def func(k):

    # 만약 Index Over, 즉 꽉 찼다면
    if k == M:
        # 바구니에서 요소들을 출력
        for i in range(M):
            print(arr[i], end=' ')
        print()
        # 그리고 함수를 종료
        return
    
    # k번째 자리에 맞는 숫자를 탐색
    for i in range(N):
        # 해당 숫자가 사용 되었는지 확인
        if not issued[i]:
            arr[k] = i+1		# 바구니의 k번째 자리에 해당 숫자를 넣음
            issued[i] = True	# 해당 숫자가 사용 되었다고 확인
            func(k+1)			# k+1번째, 즉 다음 차례의 숫자를 재귀로 확인
            issued[i] = False	# 출력까지 끝나 함수가 종료되면, 해당 숫자는 그 자리에서 역할을 다함
----------------------------------------------------
func(0)		# 0번째 자리부터 함수를 실행

```
### ★★★시간 복잡도★★★
##### O(N×P(N,M))
순열의 방식으로 모든 경우의 수 추출  
최악의 경우 N = M = 8 임으로, 순열의 갯수는 8!(=90,720)  
그리고 내부적으로 N번의 반복문을 돌림으로, 최악의 시간 복잡도는 8x8!(=725,760)
***
## 시도 회차 수정사항
- 손으로는 단순하게 첫번째 자리에 들어올 숫자, 두번째 자리에 들어올 숫자 ~ 반복하여 구현
- 코드로는 재귀함수를 통하여 구현 (8중 반복문은 안된다)
- 각 숫자가 사용되었는지 판단해서 자리에 넣는게 인상적
***
## 정답 코드
```
# 표준 입력
import sys

key_in = lambda: sys.stdin.readline().rstrip()

N, M = map(int, key_in().split())

# 숫자를 담을 바구니
arr = [0 for _ in range(M)]
# 해당 숫자가 사용 되었는지 확인
issued = [False for _ in range(N)]

# k번째 요소를 결정짓는 함수
def func(k):
    
    # 만약 Index Over, 즉 꽉 찼다면
    if k == M:
        # 바구니에서 요소들을 출력
        for i in range(M):
            print(arr[i], end=' ')
        print()
        # 그리고 함수를 종료
        return
    
    # k번째 자리에 맞는 숫자를 탐색
    for i in range(N):
        # 해당 숫자가 사용 되었는지 확인
        if not issued[i]:
            arr[k] = i+1		# 바구니의 k번째 자리에 해당 숫자를 넣음
            issued[i] = True	# 해당 숫자가 사용 되었다고 확인
            func(k+1)			# k+1번째, 즉 다음 차례의 숫자를 재귀로 확인
            issued[i] = False	# 출력까지 끝나 함수가 종료되면, 해당 숫자는 그 자리에서 역할을 다함
            

func(0)		# 0번째 자리부터 함수를 실행
```